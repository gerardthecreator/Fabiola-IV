<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis de Movimiento con Aceleración</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Oswald:wght@300;400;500&display=swap" rel="stylesheet">

    <!-- MathJax para renderizar LaTeX -->
    <script>
        MathJax = {
            tex: { 
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: { fontCache: 'global' },
            startup: {
                ready: () => {
                    MathJax.startup.defaultReady();
                    document.dispatchEvent(new Event('MathJaxReady'));
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

    <style>
        :root { --bg-color: #e0e0e0; --primary-font-color: #3c3c3c; --accent-color: #8e44ad; --accent-color-dark: #7d3c98; --graph-line-color: #c0392b; --card-padding: 1.5rem; --card-border-radius: 1.25rem; --font-title: 'Anton', sans-serif; --font-body: 'Oswald', sans-serif; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: var(--font-body); background-color: var(--bg-color); color: var(--primary-font-color); line-height: 1.7; padding: 1.25rem; display: flex; justify-content: center; }
        main { max-width: 800px; width: 100%; }
        h1, h2, h3 { font-family: var(--font-title); letter-spacing: 1px; color: #333; text-align: center; margin-bottom: 1.25rem; }
        h1 { font-size: 2.5rem; text-transform: uppercase; }
        h2 { font-size: 1.8rem; }
        h3 { font-size: 1.5rem; text-align: left; color: var(--accent-color); margin-top: 2rem; }
        p, li { font-size: 1.1rem; font-weight: 300; margin-bottom: 1rem; }
        strong { font-weight: 500; }
        .card { background: var(--bg-color); padding: var(--card-padding); border-radius: var(--card-border-radius); margin-bottom: 2rem; box-shadow: 9px 9px 16px #bebebe, -9px -9px 16px #ffffff; }
        
        #visualizacion-container { display: flex; flex-direction: column; align-items: center; gap: 1rem; }
        .graph-tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; }
        .tab-btn { font-family: var(--font-body); font-size: 1rem; padding: 0.5rem 1rem; border: none; border-radius: 0.5rem 0.5rem 0 0; cursor: pointer; background: #c7c7c7; box-shadow: 3px 3px 6px #bebebe, -3px -3px 6px #ffffff; transition: all 0.2s ease; }
        .tab-btn.active { background: var(--bg-color); box-shadow: none; }
        .graph-container { width: 100%; max-width: 500px; }
        .graph-svg { background: var(--bg-color); border-radius: var(--card-border-radius); box-shadow: inset 7px 7px 14px #bebebe, inset -7px -7px 14px #ffffff; width: 100%; height: auto; aspect-ratio: 5/4; }
        #grafica-v-vs-t { display: none; }

        .anim-controls { display: flex; gap: 1rem; width: 100%; justify-content: center; }
        .anim-btn { font-family: var(--font-body); font-size: 1rem; font-weight: 400; padding: 0.8rem 1.5rem; border: none; border-radius: 0.8rem; cursor: pointer; background: var(--bg-color); box-shadow: 5px 5px 10px #bebebe, -5px -5px 10px #ffffff; transition: all 0.2s ease-in-out; color: var(--primary-font-color); }
        .anim-btn:hover { color: var(--accent-color); }
        .anim-btn:active, .anim-btn:focus { box-shadow: inset 3px 3px 7px #bebebe, inset -3px -3px 7px #ffffff; color: var(--accent-color-dark); outline: 2px solid var(--accent-color); outline-offset: 2px; }
        .anim-btn:disabled { color: #999; cursor: not-allowed; box-shadow: inset 3px 3px 7px #bebebe, inset -3px -3px 7px #ffffff; }
        #anim-description { width: 100%; text-align: center; font-size: 1.1rem; font-weight: 500; color: var(--accent-color-dark); min-height: 3em; background: #f4ecf7; padding: 0.75rem; border-radius: 0.8rem; border-left: 5px solid var(--accent-color); }
        
        .formula-box { background: var(--bg-color); padding: 1.25rem; margin-top: 1rem; border-radius: 1rem; box-shadow: inset 5px 5px 10px #bebebe, inset -5px -5px 10px #ffffff; text-align: center; overflow-x: auto; }
        #respuestas-container .respuesta-item { font-size: 1.2rem; font-weight: 400; background: #f4ecf7; color: var(--accent-color-dark); padding: 1rem; border-radius: 0.6rem; border-left: 5px solid var(--accent-color); margin-bottom: 0.6rem; }
    </style>
</head>
<body>

    <main>
        <h1>Análisis de Movimiento con Aceleración</h1>
        <section class="card">
            <h2>Enunciado</h2>
            <p>Un móvil parte del reposo en el origen ($x=0, t=0$) y se mueve a lo largo del eje X en tres tramos:</p>
            <ul>
                <li><strong>Tramo A→B:</strong> Acelera a razón de $a_1 = +2.0 \text{ m/s}^2$ durante $5.0 \text{ s}$.</li>
                <li><strong>Tramo B→C:</strong> Se mueve con la velocidad alcanzada en B durante $10.0 \text{ s}$.</li>
                <li><strong>Tramo C→D:</strong> Frena con una aceleración constante de $a_3 = -4.0 \text{ m/s}^2$ hasta detenerse.</li>
            </ul>
            <p><strong>1. Análisis por Tramos:</strong> Calcule la posición y velocidad en los puntos B y C. Calcule el tiempo que tarda en frenar y la posición final en D.</p>
            <p><strong>2. Totales y Gráficas:</strong> Determine el tiempo total y el desplazamiento total. Dibuje las gráficas de <strong>posición vs. tiempo (x vs t)</strong> y <strong>velocidad vs. tiempo (v vs t)</strong>.</p>
        </section>

        <section id="visualizacion-container" class="card">
            <h2>Gráficas Interactivas</h2>
            <div id="anim-description"></div>
            <div class="graph-tabs">
                <button id="tab-x-vs-t" class="tab-btn active">x vs t</button>
                <button id="tab-v-vs-t" class="tab-btn">v vs t</button>
            </div>
            <div class="graph-container">
                <svg id="grafica-x-vs-t" class="graph-svg" viewBox="0 0 500 400"></svg>
                <svg id="grafica-v-vs-t" class="graph-svg" viewBox="0 0 500 400"></svg>
            </div>
            <div class="anim-controls">
                <button id="btn-prev" class="anim-btn">Anterior</button>
                <button id="btn-next" class="anim-btn">Siguiente</button>
            </div>
        </section>

        <section class="card">
            <h2>Solución Detallada</h2>
            <h3>1. Análisis por Tramos</h3>
            <div class="formula-box">
                <strong>Tramo A→B (t=0 a 5.0 s):</strong><br>
                $v_B = v_A + a_1 t_{AB} = 0 + (2.0)(5.0) = 10.0 \text{ m/s}$<br>
                $x_B = x_A + v_A t_{AB} + \frac{1}{2}a_1 t_{AB}^2 = 0 + 0 + \frac{1}{2}(2.0)(5.0)^2 = 25.0 \text{ m}$
            </div>
            <div class="formula-box">
                <strong>Tramo B→C (t=5.0 a 15.0 s):</strong><br>
                $v_C = v_B = 10.0 \text{ m/s}$ (velocidad constante)<br>
                $x_C = x_B + v_B t_{BC} = 25.0 + (10.0)(10.0) = 125 \text{ m}$
            </div>
            <div class="formula-box">
                <strong>Tramo C→D (t > 15.0 s):</strong><br>
                $v_D = v_C + a_3 t_{CD} \implies 0 = 10.0 + (-4.0)t_{CD} \implies t_{CD} = 2.5 \text{ s}$<br>
                $x_D = x_C + v_C t_{CD} + \frac{1}{2}a_3 t_{CD}^2 = 125 + (10.0)(2.5) + \frac{1}{2}(-4.0)(2.5)^2 = 137.5 \text{ m}$
            </div>

            <h3>2. Totales del Movimiento</h3>
            <div class="formula-box">
                <strong>Tiempo Total:</strong> $t_{total} = t_{AB} + t_{BC} + t_{CD} = 5.0 + 10.0 + 2.5 = 17.5 \text{ s}$<br>
                <strong>Desplazamiento Total:</strong> $\Delta x_{total} = x_D - x_A = 137.5 - 0 = 137.5 \text{ m}$
            </div>
        </section>
    </main>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Lógica de la Gráfica SVG Interactiva ---
        const dataPoints = [
            { t: 0, x: 0, v: 0, label: 'A' },
            { t: 5.0, x: 25.0, v: 10.0, label: 'B' },
            { t: 15.0, x: 125, v: 10.0, label: 'C' },
            { t: 17.5, x: 137.5, v: 0, label: 'D' }
        ];

        const svgX = document.getElementById('grafica-x-vs-t');
        const svgV = document.getElementById('grafica-v-vs-t');
        const descriptionBox = document.getElementById('anim-description');
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const tabX = document.getElementById('tab-x-vs-t');
        const tabV = document.getElementById('tab-v-vs-t');

        const SVG_WIDTH = 500, SVG_HEIGHT = 400;
        const MARGIN = { top: 40, right: 40, bottom: 40, left: 50 };
        const G_WIDTH = SVG_WIDTH - MARGIN.left - MARGIN.right;
        const G_HEIGHT = SVG_HEIGHT - MARGIN.top - MARGIN.bottom;

        // Escalas
        const tMax = 20, xMax = 150, vMax = 12;
        const scaleXt = t => MARGIN.left + (t / tMax) * G_WIDTH;
        const scaleXx = x => MARGIN.top + G_HEIGHT - (x / xMax) * G_HEIGHT;
        const scaleVv = v => MARGIN.top + G_HEIGHT - (v / vMax) * G_HEIGHT;

        function drawAxes(svg, scaleX, scaleY, xLabel, yLabel, xTicks, yTicks) {
            let content = `<g class="axes">
                <line x1="${MARGIN.left}" y1="${MARGIN.top}" x2="${MARGIN.left}" y2="${MARGIN.top + G_HEIGHT}" stroke="#333" />
                <line x1="${MARGIN.left}" y1="${MARGIN.top + G_HEIGHT}" x2="${MARGIN.left + G_WIDTH}" y2="${MARGIN.top + G_HEIGHT}" stroke="#333" />
                <text x="${MARGIN.left - 10}" y="${MARGIN.top - 10}" text-anchor="middle" font-size="14" font-family="Oswald">${yLabel}</text>
                <text x="${MARGIN.left + G_WIDTH + 20}" y="${MARGIN.top + G_HEIGHT + 5}" font-size="14" font-family="Oswald">${xLabel}</text>`;
            xTicks.forEach(t => { content += `<text x="${scaleX(t)}" y="${MARGIN.top + G_HEIGHT + 20}" text-anchor="middle" font-size="12">${t}</text>`; });
            yTicks.forEach(y => {
                content += `<text x="${MARGIN.left - 15}" y="${scaleY(y) + 4}" text-anchor="end" font-size="12">${y}</text>
                            <line x1="${MARGIN.left}" y1="${scaleY(y)}" x2="${MARGIN.left + G_WIDTH}" y2="${scaleY(y)}" stroke="#ccc" stroke-dasharray="2 2"/>`;
            });
            content += `</g>`;
            return content;
        }

        // Dibujar Gráfica x vs t
        let svgXContent = drawAxes(svgX, scaleXt, scaleXx, 't (s)', 'x (m)', [0, 5, 10, 15, 20], [0, 25, 50, 75, 100, 125, 150]);
        svgXContent += `<path id="path-x-0" d="M ${scaleXt(0)} ${scaleXx(0)} Q ${scaleXt(2.5)} ${scaleXx(6.25)} ${scaleXt(5)} ${scaleXx(25)}" stroke="var(--graph-line-color)" stroke-width="3" fill="none" visibility="hidden"/>`;
        svgXContent += `<line id="path-x-1" x1="${scaleXt(5)}" y1="${scaleXx(25)}" x2="${scaleXt(15)}" y2="${scaleXx(125)}" stroke="var(--graph-line-color)" stroke-width="3" visibility="hidden"/>`;
        svgXContent += `<path id="path-x-2" d="M ${scaleXt(15)} ${scaleXx(125)} Q ${scaleXt(16.25)} ${scaleXx(137.5)} ${scaleXt(17.5)} ${scaleXx(137.5)}" stroke="var(--graph-line-color)" stroke-width="3" fill="none" visibility="hidden"/>`;
        svgXContent += `<circle id="marker-x" r="6" fill="var(--accent-color)" visibility="hidden" />`;
        svgX.innerHTML = svgXContent;

        // Dibujar Gráfica v vs t
        let svgVContent = drawAxes(svgV, scaleXt, scaleVv, 't (s)', 'v (m/s)', [0, 5, 10, 15, 20], [0, 2, 4, 6, 8, 10, 12]);
        for (let i = 0; i < dataPoints.length - 1; i++) {
            svgVContent += `<line id="path-v-${i}" x1="${scaleXt(dataPoints[i].t)}" y1="${scaleVv(dataPoints[i].v)}" x2="${scaleXt(dataPoints[i+1].t)}" y2="${scaleVv(dataPoints[i+1].v)}" stroke="var(--graph-line-color)" stroke-width="3" visibility="hidden"/>`;
        }
        svgVContent += `<circle id="marker-v" r="6" fill="var(--accent-color)" visibility="hidden" />`;
        svgV.innerHTML = svgVContent;

        const markerX = document.getElementById('marker-x');
        const markerV = document.getElementById('marker-v');
        const pathsX = Array.from({ length: 3 }, (_, i) => document.getElementById(`path-x-${i}`));
        const pathsV = Array.from({ length: 3 }, (_, i) => document.getElementById(`path-v-${i}`));

        let currentStep = 0;
        const totalSteps = 4;

        function updateVisualization(step) {
            btnPrev.disabled = step === 0;
            btnNext.disabled = step === totalSteps - 1;

            const point = dataPoints[step];
            if (step === 0) {
                descriptionBox.innerHTML = "<strong>Estado Inicial (Punto A):</strong> Móvil en reposo en el origen.";
                markerX.setAttribute('visibility', 'hidden');
                markerV.setAttribute('visibility', 'hidden');
            } else {
                const prevPoint = dataPoints[step - 1];
                descriptionBox.innerHTML = `<strong>Fin del Tramo ${prevPoint.label}→${point.label}</strong> (t=${point.t.toFixed(1)}s)<br>Posición: ${point.x.toFixed(1)} m, Velocidad: ${point.v.toFixed(1)} m/s`;
                markerX.setAttribute('cx', scaleXt(point.t));
                markerX.setAttribute('cy', scaleXx(point.x));
                markerV.setAttribute('cx', scaleXt(point.t));
                markerV.setAttribute('cy', scaleVv(point.v));
                markerX.setAttribute('visibility', 'visible');
                markerV.setAttribute('visibility', 'visible');
            }

            pathsX.forEach((path, i) => path.setAttribute('visibility', i < step ? 'visible' : 'hidden'));
            pathsV.forEach((path, i) => path.setAttribute('visibility', i < step ? 'visible' : 'hidden'));
        }

        btnNext.addEventListener('click', () => { if (currentStep < totalSteps - 1) { currentStep++; updateVisualization(currentStep); } });
        btnPrev.addEventListener('click', () => { if (currentStep > 0) { currentStep--; updateVisualization(currentStep); } });
        
        tabX.addEventListener('click', () => {
            svgX.style.display = 'block';
            svgV.style.display = 'none';
            tabX.classList.add('active');
            tabV.classList.remove('active');
        });
        tabV.addEventListener('click', () => {
            svgX.style.display = 'none';
            svgV.style.display = 'block';
            tabV.classList.add('active');
            tabX.classList.remove('active');
        });

        updateVisualization(0);
    });
    </script>

</body>
</html>